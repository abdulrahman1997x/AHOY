<div class="chart-card">
  <mat-card class="example-card mat-elevation-z4">
    <mat-card-title>
      <div class="title">
        <div>
          Historical Monthly Statistics for s
          <span class="text-primary">{{ country }}</span>
        </div>
        <ng-select
          class="select"
          [items]="countries"
          bindLabel="country"
          bindValue="country"
          [searchable]="true"
          [(ngModel)]="country"
          (change)="updateData($event)"
        >
        </ng-select>
      </div>
    </mat-card-title>
    <mat-card-subtitle *ngIf="this.data.length > 0"
      >Last Update: {{ this.data[0]?.day | date }}
    </mat-card-subtitle>
    <mat-card-content>
      <div style="display: block; width: 100%; height: 400px">
        <canvas
          baseChart
          [data]="lineChartData"
          [options]="lineChartOptions"
          [legend]="lineChartLegend"
          [type]="lineChartType"
        >
        </canvas>
      </div>
      <ng-container *ngIf="loading">
        <app-spinner></app-spinner>
      </ng-container>
    </mat-card-content>
  </mat-card>
</div>
